<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Color and paint your selected image with tap-to-fill, gradients, and patterns - Free online coloring for kids">
    <meta name="keywords" content="coloring page, online painting, tap to color, kids coloring">
    <meta name="author" content="MagicPencil">

    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">

    <!-- Open Graph (will be updated dynamically) -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Coloring Page - MagicPencil">
    <meta property="og:description" content="Free online coloring and painting for kids">
    <meta property="og:image" content="https://magicpencil.fun/assets/og-image.png">

    <title>Coloring - MagicPencil</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/coloring-page.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S4TFTTG0SD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-S4TFTTG0SD');
    </script>
</head>
<body class="coloring-page">
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <a href="/" style="display: flex; align-items: center; gap: 12px; text-decoration: none; color: inherit;">
                    <img src="/assets/logo-64.png" alt="MagicPencil Logo" width="40" height="40" style="display: block;">
                    <h1 style="margin: 0;"><a href="index.html" style="text-decoration: none; color: inherit;">MagicPencil</a></h1>
                </a>
            </div>
            <nav class="main-nav">
                <a href="index.html">Home</a>
                <button id="random-btn" class="btn btn-random">Random</button>
                <button id="next-image-btn" class="btn btn-secondary">Next Image</button>
                <button id="download-btn" class="btn btn-primary">Download</button>
            </nav>
        </div>
    </header>

    <main class="coloring-container">
        <!-- Left Panel: Color Palette -->
        <aside class="color-panel">
            <div class="pencil-indicator">
                <div id="pencil-icon">
                    <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <g>
                            <!-- Pencil body (will change color dynamically) -->
                            <g id="pencil-body">
                                <path fill="currentColor" d="M94.55,33.73l-32.53,32.53c-0.78,0.78-2.05,0.78-2.83,0L33.73,40.81c-0.78-0.78-0.78-2.05,0-2.83
                                    l32.53-32.53c0.78-0.78,2.05-0.78,2.83,0l25.46,25.46C95.33,31.68,95.33,32.95,94.55,33.73z"/>
                                <path fill="currentColor" d="M60.61,69.35c-1.15,0-2.31-0.44-3.18-1.32L31.97,42.58c-0.85-0.85-1.32-1.98-1.32-3.18
                                    c0-1.2,0.47-2.33,1.32-3.18L64.5,3.69c0.85-0.85,1.98-1.32,3.18-1.32s2.34,0.47,3.19,1.32l25.46,25.46
                                    c1.76,1.76,1.76,4.61,0,6.37l0,0l-32.53,32.53C62.91,68.91,61.76,69.35,60.61,69.35z M35.86,39.4l24.75,24.75l31.82-31.82
                                    L66.68,7.58L35.86,39.4z M92.78,31.97L92.78,31.97L92.78,31.97z"/>
                            </g>

                            <!-- Stripe 1 (white, semi-transparent) -->
                            <g opacity="0.6">
                                <rect x="47.63" y="41.85" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -10.0834 64.3432)"
                                      fill="#FFFFFF" width="50" height="5"/>
                            </g>

                            <!-- Stripe 2 (black, semi-transparent) -->
                            <g opacity="0.5">
                                <rect x="39.14" y="33.36" transform="matrix(0.7071 -0.7072 0.7072 0.7071 -6.5672 55.8628)"
                                      width="50" height="5"/>
                            </g>

                            <!-- Stripe 3 (white, semi-transparent) -->
                            <g opacity="0.6">
                                <rect x="30.66" y="24.88" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3.0538 47.3726)"
                                      fill="#FFFFFF" width="50" height="5"/>
                            </g>

                            <!-- Pencil tip (cream color - static) -->
                            <g id="pencil-tip">
                                <polygon fill="#F5DEB3" points="60.61,67.68 32.32,39.4 18.18,81.82"/>
                                <path fill="#D2B48C" d="M14.23,85.77l17-51.01l34.01,34.01L14.23,85.77z M33.42,44.02l-11.28,33.85l33.85-11.28L33.42,44.02z"/>
                            </g>

                            <!-- Inner graphite point (dark - static) -->
                            <g id="graphite-point">
                                <polygon fill="#F5DEB3" points="42.48,73.75 26.23,57.6 18.11,81.82"/>
                                <path fill="#D2B48C" d="M14.15,85.77l11-32.78l21.99,21.85L14.15,85.77z M27.33,62.21l-5.26,15.67l15.77-5.22L27.33,62.21z"/>
                            </g>
                        </g>
                    </svg>
                </div>
            </div>

            <div class="color-palette">
                <h3>Colors</h3>
                <div class="color-grid">
                    <!-- Row 1: Reds/Pinks -->
                    <button class="color-btn active" data-color="#FF0000" style="background-color: #FF0000;" title="Red"></button>
                    <button class="color-btn" data-color="#FF6347" style="background-color: #FF6347;" title="Tomato"></button>
                    <button class="color-btn" data-color="#FFC0CB" style="background-color: #FFC0CB;" title="Pink"></button>
                    <!-- Row 2: Oranges/Yellows/Golds -->
                    <button class="color-btn" data-color="#FFA500" style="background-color: #FFA500;" title="Orange"></button>
                    <button class="color-btn" data-color="#FFFF00" style="background-color: #FFFF00;" title="Yellow"></button>
                    <button class="color-btn" data-color="#FFD700" style="background-color: #FFD700;" title="Gold"></button>
                    <!-- Row 3: Greens -->
                    <button class="color-btn" data-color="#00FF00" style="background-color: #00FF00;" title="Green"></button>
                    <button class="color-btn" data-color="#32CD32" style="background-color: #32CD32;" title="Lime Green"></button>
                    <button class="color-btn" data-color="#8B4513" style="background-color: #8B4513;" title="Brown"></button>
                    <!-- Row 4: Blues/Cyans -->
                    <button class="color-btn" data-color="#0000FF" style="background-color: #0000FF;" title="Blue"></button>
                    <button class="color-btn" data-color="#87CEEB" style="background-color: #87CEEB;" title="Light Blue"></button>
                    <button class="color-btn" data-color="#00CED1" style="background-color: #00CED1;" title="Turquoise"></button>
                    <!-- Row 5: Purples/Pinks -->
                    <button class="color-btn" data-color="#800080" style="background-color: #800080;" title="Purple"></button>
                    <button class="color-btn" data-color="#4B0082" style="background-color: #4B0082;" title="Indigo"></button>
                    <button class="color-btn" data-color="#FF69B4" style="background-color: #FF69B4;" title="Hot Pink"></button>
                    <!-- Row 6: Neutrals -->
                    <button class="color-btn" data-color="#000000" style="background-color: #000000;" title="Black"></button>
                    <button class="color-btn" data-color="#808080" style="background-color: #808080;" title="Gray"></button>
                    <button class="color-btn" data-color="#FFFFFF" style="background-color: #FFFFFF; border: 2px solid #ccc;" title="White"></button>
                </div>
            </div>

            <button id="clear-btn" class="btn btn-danger btn-full-width">CLEAR</button>
        </aside>

        <!-- Center Panel: Canvas -->
        <section class="canvas-panel">
            <div id="svg-container" class="svg-container">
                <div class="svg-ratio-wrapper">
                    <!-- White colorable background (behind SVG) -->
                    <div id="svg-background" class="svg-background"></div>

                    <!-- SVG Content -->
                    <div class="svg-content">
                        <!-- SVG image will be loaded here -->
                        <p class="loading-message">Loading image...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Right Panel: Advanced Options -->
        <aside class="advanced-panel">
            <button id="advanced-toggle" class="advanced-toggle">Advanced Options ▼</button>

            <div id="advanced-content" class="advanced-content">
                <!-- Gradient Section -->
                <div class="advanced-section">
                    <h3>Gradient Fill</h3>
                    <div class="gradient-grid">
                        <button class="gradient-btn" data-from="#FF0000" data-to="#FFFF00" data-direction="to bottom" title="Red to Yellow" style="background: linear-gradient(to bottom, #FF0000, #FFFF00);"></button>
                        <button class="gradient-btn" data-from="#0000FF" data-to="#00FF00" data-direction="to bottom" title="Blue to Green" style="background: linear-gradient(to bottom, #0000FF, #00FF00);"></button>
                        <button class="gradient-btn" data-from="#800080" data-to="#FFC0CB" data-direction="to bottom" title="Purple to Pink" style="background: linear-gradient(to bottom, #800080, #FFC0CB);"></button>
                        <button class="gradient-btn" data-from="#FFA500" data-to="#FFFFFF" data-direction="to bottom" title="Orange to White" style="background: linear-gradient(to bottom, #FFA500, #FFFFFF);"></button>
                        <button class="gradient-btn" data-from="#87CEEB" data-to="#FFFFFF" data-direction="to right" title="Sky to White" style="background: linear-gradient(to right, #87CEEB, #FFFFFF);"></button>
                        <button class="gradient-btn" data-from="#FF0000" data-to="#800080" data-direction="to right" title="Red to Purple" style="background: linear-gradient(to right, #FF0000, #800080);"></button>
                        <button class="gradient-btn" data-from="#00FF00" data-to="#FFFF00" data-direction="to bottom right" title="Green to Yellow" style="background: linear-gradient(to bottom right, #00FF00, #FFFF00);"></button>
                        <button class="gradient-btn" data-from="#0000FF" data-to="#FFC0CB" data-direction="to bottom right" title="Blue to Pink" style="background: linear-gradient(to bottom right, #0000FF, #FFC0CB);"></button>
                    </div>
                </div>

                <!-- Pattern Section -->
                <div class="advanced-section">
                    <h3>Pattern Fill</h3>
                    <div class="pattern-controls">
                        <div class="pattern-color-info">
                            <p><strong>Color:</strong> <span id="pattern-color-label">Red</span></p>
                        </div>

                        <div class="pattern-preview" id="pattern-preview"></div>

                        <div class="pattern-grid">
                            <button class="pattern-btn" data-pattern="stripes" title="Stripes">
                                <svg width="50" height="50" viewBox="0 0 50 50">
                                    <line x1="0" y1="10" x2="50" y2="10" stroke="currentColor" stroke-width="3"/>
                                    <line x1="0" y1="20" x2="50" y2="20" stroke="currentColor" stroke-width="3"/>
                                    <line x1="0" y1="30" x2="50" y2="30" stroke="currentColor" stroke-width="3"/>
                                    <line x1="0" y1="40" x2="50" y2="40" stroke="currentColor" stroke-width="3"/>
                                </svg>
                                <span>Stripes</span>
                            </button>
                            <button class="pattern-btn" data-pattern="dots" title="Dots">
                                <svg width="50" height="50" viewBox="0 0 50 50">
                                    <circle cx="10" cy="10" r="3" fill="currentColor"/>
                                    <circle cx="30" cy="10" r="3" fill="currentColor"/>
                                    <circle cx="10" cy="30" r="3" fill="currentColor"/>
                                    <circle cx="30" cy="30" r="3" fill="currentColor"/>
                                </svg>
                                <span>Dots</span>
                            </button>
                            <button class="pattern-btn" data-pattern="checkerboard" title="Checkerboard">
                                <svg width="50" height="50" viewBox="0 0 50 50">
                                    <rect x="0" y="0" width="25" height="25" fill="currentColor"/>
                                    <rect x="25" y="25" width="25" height="25" fill="currentColor"/>
                                </svg>
                                <span>Checker</span>
                            </button>
                            <button class="pattern-btn" data-pattern="hearts" title="Hearts">
                                <svg width="50" height="50" viewBox="0 0 50 50">
                                    <text x="10" y="30" font-size="30" fill="currentColor">♥</text>
                                </svg>
                                <span>Hearts</span>
                            </button>
                            <button class="pattern-btn" data-pattern="stars" title="Stars">
                                <svg width="50" height="50" viewBox="0 0 50 50">
                                    <text x="10" y="30" font-size="30" fill="currentColor">★</text>
                                </svg>
                                <span>Stars</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <!-- Confirmation Dialog -->
    <div id="dialog-overlay" class="dialog-overlay">
        <div class="dialog-box">
            <h3 id="dialog-title">Confirm</h3>
            <p id="dialog-message">Are you sure?</p>
            <div class="dialog-actions">
                <button id="dialog-confirm" class="btn btn-primary">Yes</button>
                <button id="dialog-cancel" class="btn btn-secondary">Cancel</button>
            </div>
        </div>
    </div>

    <script src="js/data/image-catalog.js"></script>
    <script src="js/colors.js"></script>
    <script src="js/coloring.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/download.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
